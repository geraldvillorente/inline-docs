<!DOCTYPE html>
<html>
  <!--
  /*

  Html Template
  ====

  This template is used when rendering docs to html, to wrap the markdown inside an html document.

  */
  -->
    <head>
        <style type="text/css">
          /*

          Default styles
          ----

          All of the default styles are embedded in the template, to avoid extra http requests and make
          distribution easier.

          */
            body {
              font-family: Arial;
            }

            h1,h2,h3,h4,h5,h6 {
              font-family: Serif;
            }

            h1 {
              font-size: 30px;
            }

            h2 {
              font-size: 20px;
              margin-top: 40px;
            }

            section {
              max-width: 800px;
              margin: 0 auto;
              border-bottom: 5px solid #000;
              padding-bottom: 50px;
            }

            blockquote {
              font-style: italic;
              border-left: 10px solid #EEE;
              padding: 10px 0 10px 40px;
              margin: 0;
            }

            .source-ref {
              padding: 0 0 10px 0;
              font-size: 12px;
              font-style: italic;
              color: #999;
            }

            .source-ref a {
              color: #999;
              text-decoration: none;
            }

            .source-ref a:hover {
              text-decoration: underline;
            }

            #table-of-contents {
              float: right;
              width: 40%;
              background: #efefef;
              font-size: 0.8em;
              padding: 1em 2em 1em 3em;
              margin: 0 0 0.5em 0.5em;
            }

            #table-of-contents ul {
              padding: 0;
            }

            #table-of-contents li {
              margin: 0 0 0.25em 0;
            }

            #table-of-contents a {
              text-decoration: none;
            }

            #table-of-contents a:hover,
            #table-of-contents a:active {
              text-decoration: underline;
            }

            h1:target {
              animation: highlight 1s ease;
            }

            @keyframes highlight {
              from { background: yellow; }
              to { background: white; }
            }
        </style>
    </head>
    <body>
        <section data-filename="/README.md">
<article data-line="0">
<h1 id="inline-docs">Inline Docs</h1><p><a href="http://travis-ci.org/joshwnj/inline-docs"><img src="https://secure.travis-ci.org/joshwnj/inline-docs.png" alt="Build Status"></a></p>
<p>Embed markdown documentation in code.</p>
<h2 id="inline-docs:install">Install</h2><p><code>npm install -g inline-docs</code></p>
<h2 id="inline-docs:usage">Usage</h2><p>Run <code>inline-docs . &gt; docs.html</code> in your project&#39;s root directory.</p>
<p>For an example of output you can view the docs for this repo: <a href="http://joshwnj.github.io/inline-docs">http://joshwnj.github.io/inline-docs</a></p>
<h2 id="inline-docs:rules">Rules</h2><ul>
<li>To be considered valid, a source file must have exactly one level-1 heading in the markdown portion.</li>
<li>Any comments before the level-1 heading are ignored.</li>
<li>Block-level comments are only included if they begin with 2 asterisks (eg. <code>/** ... */</code>)</li>
<li>Single-line comments are only included if they begin with a <code>///&gt;</code> (eg. <code>///&gt; comment goes here...</code>)</li>
</ul>
<h2 id="inline-docs:project-goals">Project goals</h2><p>There are many existing tools to help you generate documentation from code, but most of them are geared towards describing APIs. Put more generally, the tools and documentation are focussed on <em>what</em> the code is doing and <em>how</em> to properly call each function. This is useful, but a lot of the time we need to document <em>why</em> things were done in a certain way. Every design-decision and tradeoff made today impacts the possible decisions that can be made tomorrow, and this information is critical to new developers becoming involved in the project.</p>
<p>Along with this, <code>inline-docs</code> has the following goals:</p>
<ul>
<li>There should be <em>a simple standard to follow when documenting code</em>.</li>
<li>Considering that one part of the codebase often only makes sense in the context of the whole, there should be <em>a natural way to make connections across a codebase</em>. Reading the docs should be like having a guided tour of the code.</li>
<li>The tool should encourage <em>documenting as a primary development task</em>.</li>
</ul>
<h2 id="inline-docs:license">License</h2><p>MIT</p>

<div class="source-ref">Source: <a href="./README.md#L0">/README.md, line 0</a></div></article>
</section>
<section data-filename="/index.js">
<article data-line="1">
<h1 id="overview">Overview</h1><h2 id="overview:how-are-docs-generated-">How are docs generated?</h2><ul>
<li>source files are parsed to extract comments, which are combined to form a markdown document.</li>
<li>markdown document must have exactly one level-1 heading to be considered valid.</li>
<li>any comments preceding the first level-1 heading are ignored.</li>
<li>the text of the level-1 heading is used for identity, so must be unique across all docs.</li>
</ul>
<h2 id="overview:links">Links</h2><ul>
<li>every level-1 and level-2 heading becomes a link anchor.</li>
<li>see also: <a class="doc-link" href="#process-a-file:find-document-links-in-comments">Process a file&rarr;Find document links in comments</a>.</li>
</ul>
<h2 id="overview:source-references">Source references</h2><ul>
<li>when extracting comments from a source file we also get the line number it came from.</li>
<li>in the generated output we can include a reference back to the location in the source file.</li>
</ul>
<h2 id="overview:extracting-comments">Extracting comments</h2><ul>
<li>for each file we get a list of comments.</li>
<li>for each comment we get a list of markdown tokens and location info.</li>
<li>drop all tokens preceding the level-1 heading.</li>
</ul>

<div class="source-ref">Source: <a href="./index.js#L1">/index.js, line 1</a></div></article>
<article data-line="46">
<h2 id="overview:default-options">Default options</h2><p>By default we locate all .js files in the project directory, except for those in the <code>node_modules</code> directory.</p>

<div class="source-ref">Source: <a href="./index.js#L46">/index.js, line 46</a></div></article>
<article data-line="55">
<blockquote>
<p>include common source and markdown files</p>
</blockquote>

<div class="source-ref">Source: <a href="./index.js#L55">/index.js, line 55</a></div></article>
<article data-line="61">
<blockquote>
<p>exclude node_modules</p>
</blockquote>

<div class="source-ref">Source: <a href="./index.js#L61">/index.js, line 61</a></div></article>
<article data-line="98">
<blockquote>
<p>If no template is specified we&#39;ll use the default in <a class="doc-link" href="#html-template">Html Template</a>.</p>
</blockquote>

<div class="source-ref">Source: <a href="./index.js#L98">/index.js, line 98</a></div></article>
<article data-line="113">
<blockquote>
<p>store heading and link info so we can validate at the end</p>
</blockquote>

<div class="source-ref">Source: <a href="./index.js#L113">/index.js, line 113</a></div></article>
</section>
<section data-filename="/index.html">
<article data-line="4">
<h1 id="html-template">Html Template</h1><p>This template is used when rendering docs to html, to wrap the markdown inside an html document.</p>

<div class="source-ref">Source: <a href="./index.html#L4">/index.html, line 4</a></div></article>
<article data-line="15">
<h2 id="html-template:default-styles">Default styles</h2><p>All of the default styles are embedded in the template, to avoid extra http requests and make
distribution easier.</p>

<div class="source-ref">Source: <a href="./index.html#L15">/index.html, line 15</a></div></article>
</section>
<section data-filename="/docs.html">
<article data-line="4">
<h1 id="html-template">Html Template</h1><p>This template is used when rendering docs to html, to wrap the markdown inside an html document.</p>

<div class="source-ref">Source: <a href="./docs.html#L4">/docs.html, line 4</a></div></article>
<article data-line="15">
<h2 id="html-template:default-styles">Default styles</h2><p>All of the default styles are embedded in the template, to avoid extra http requests and make
distribution easier.</p>

<div class="source-ref">Source: <a href="./docs.html#L15">/docs.html, line 15</a></div></article>
</section>
<section data-filename="/lib/exclude-pre-heading-markdown-tokens.js">
<article data-line="1">
<h1 id="exclude-pre-heading-markdown-tokens">Exclude pre-heading markdown tokens</h1><p>Every doc is expected to begin with a level-1 heading, so anything  before this is ignored.</p>
<p>It&#39;s common to see metadata comments near the top of a file which we wouldn&#39;t want to include. Also, expecting a level-1 markdown heading gives the developer a natural way to opt-in so we&#39;re not creating nonsense-documentatation for files that weren&#39;t intended to use comments in this way.</p>

<div class="source-ref">Source: <a href="./lib/exclude-pre-heading-markdown-tokens.js#L1">/lib/exclude-pre-heading-markdown-tokens.js, line 1</a></div></article>
<article data-line="12">
<h2 id="exclude-pre-heading-markdown-tokens:determine-whether-a-token-is-a-level-1-heading">Determine whether a token is a Level-1 Heading</h2><p>Inputs:</p>
<ul>
<li>MarkdownToken</li>
</ul>
<p>Output: boolean</p>

<div class="source-ref">Source: <a href="./lib/exclude-pre-heading-markdown-tokens.js#L12">/lib/exclude-pre-heading-markdown-tokens.js, line 12</a></div></article>
<article data-line="27">
<h2 id="exclude-pre-heading-markdown-tokens:module-interface">Module interface</h2><p>Inputs:</p>
<ul>
<li>DocItem[]</li>
</ul>
<p>Output: DocItem[]</p>

<div class="source-ref">Source: <a href="./lib/exclude-pre-heading-markdown-tokens.js#L27">/lib/exclude-pre-heading-markdown-tokens.js, line 27</a></div></article>
</section>
<section data-filename="/lib/extract-c-comments.js">
<article data-line="1">
<h1 id="extract-c-style-comments">Extract C-Style Comments</h1><p>Most source files will use one or both forms of c-style comments (block or single-line),
so we can use a generic approach to extracting comments.</p>

<div class="source-ref">Source: <a href="./lib/extract-c-comments.js#L1">/lib/extract-c-comments.js, line 1</a></div></article>
</section>
<section data-filename="/lib/extract-links.js">
<article data-line="1">
<h1 id="extract-document-links">Extract Document Links</h1><ul>
<li>linking to a level-1 heading: <code><a class="doc-link" href="#overview">Overview</a></code>.  Renders as <a href="#overview">Overview</a>.</li>
<li>linking to a level-2 heading: <code><a class="doc-link" href="#overview:how-are-docs-generated-">Overview&rarr;How are docs generated?</a></code>. Renders as <a href="#overview:how-are-docs-generated-">Overview&rarr;How are docs generated?</a></li>
<li><code>[[.][How are docs generated?]]</code> is a relative link to a level-2 heading within the current level-1 section. Renders as <a href="#overview:how-are-docs-generated-">&rarr;How are docs generated?</a></li>
</ul>

<div class="source-ref">Source: <a href="./lib/extract-links.js#L1">/lib/extract-links.js, line 1</a></div></article>
<article data-line="12">
<blockquote>
<p>pattern that we use to match links</p>
</blockquote>

<div class="source-ref">Source: <a href="./lib/extract-links.js#L12">/lib/extract-links.js, line 12</a></div></article>
<article data-line="15">
<blockquote>
<p>split level-1 and level-2 parts</p>
</blockquote>

<div class="source-ref">Source: <a href="./lib/extract-links.js#L15">/lib/extract-links.js, line 15</a></div></article>
<article data-line="20">
<h2 id="extract-document-links:module-interface">Module Interface</h2><p>Extract links from a string.</p>
<p>Inputs:</p>
<ul>
<li>text: string</li>
</ul>
<p>Output: DocLinks[]</p>

<div class="source-ref">Source: <a href="./lib/extract-links.js#L20">/lib/extract-links.js, line 20</a></div></article>
<article data-line="43">
<h2 id="extract-document-links:replace-links">Replace Links</h2><p>Rewrite doclinks in-place.</p>
<p>Inputs:</p>
<ul>
<li>text: string</li>
<li>replaceFunc: function, will be called with the link parts, and the return value will be used in place of the doclink. Eg. <code>replaceFunc([&#39;Section&#39;, &#39;Subsection&#39;])</code></li>
</ul>
<p>Output: string</p>

<div class="source-ref">Source: <a href="./lib/extract-links.js#L43">/lib/extract-links.js, line 43</a></div></article>
</section>
<section data-filename="/lib/find-comments.js">
<article data-line="12">
<h1 id="find-comments-in-source-code">Find comments in source code</h1>
<div class="source-ref">Source: <a href="./lib/find-comments.js#L12">/lib/find-comments.js, line 12</a></div></article>
<article data-line="19">
<h2 id="find-comments-in-source-code:zeroing-comment-indentation">Zeroing comment indentation</h2><p>Often a comment will be indented, so we need to make sure that doesn&#39;t affect the markdown interpretation.</p>
<p>We&#39;ll assume that the leading whitespace on the first non-empty line represents the indentation applied to all lines. We can subtract this from all lines to zero the indentation.</p>
<p>Inputs</p>
<ul>
<li>comment: CommentToken</li>
</ul>
<p>Output: CommentToken</p>

<div class="source-ref">Source: <a href="./lib/find-comments.js#L19">/lib/find-comments.js, line 19</a></div></article>
<article data-line="41">
<blockquote>
<p>don&#39;t consider empty lines as they are not a reliable indication of indentation</p>
</blockquote>

<div class="source-ref">Source: <a href="./lib/find-comments.js#L41">/lib/find-comments.js, line 41</a></div></article>
<article data-line="58">
<h2 id="find-comments-in-source-code:convert-a-comment-to-a-doc-item">Convert a comment to a doc item</h2><p>Inputs</p>
<ul>
<li>comment: CommentToken</li>
</ul>
<p>Output: DocItem</p>

<div class="source-ref">Source: <a href="./lib/find-comments.js#L58">/lib/find-comments.js, line 58</a></div></article>
<article data-line="77">
<h2 id="find-comments-in-source-code:determine-whether-a-comment-is-included">Determine whether a comment is included</h2><p>Inputs:</p>
<ul>
<li>comment: CommentToken</li>
</ul>
<p>Output: boolean</p>

<div class="source-ref">Source: <a href="./lib/find-comments.js#L77">/lib/find-comments.js, line 77</a></div></article>
<article data-line="92">
<blockquote>
<p>single-line comments are only included if they begin with a <code>&gt;</code> (see <a class="doc-link" href="#inline-docs:rules">Inline Docs&rarr;Rules</a>)</p>
</blockquote>

<div class="source-ref">Source: <a href="./lib/find-comments.js#L92">/lib/find-comments.js, line 92</a></div></article>
<article data-line="96">
<h2 id="find-comments-in-source-code:module-interface">Module Interface</h2><p>Inputs:</p>
<ul>
<li>src: string</li>
</ul>
<p>Output: DocItem[]</p>
<p>See also:</p>
<ul>
<li><a class="doc-link" href="#overview">Overview</a> and <a class="doc-link" href="#overview:how-are-docs-generated-">Overview&rarr;How are docs generated?</a></li>
<li><a class="doc-link" href="#exclude-pre-heading-markdown-tokens">Exclude pre-heading markdown tokens</a></li>
</ul>

<div class="source-ref">Source: <a href="./lib/find-comments.js#L96">/lib/find-comments.js, line 96</a></div></article>
</section>
<section data-filename="/lib/get-heading-id.js">
<article data-line="1">
<h1 id="creating-heading-anchors">Creating heading anchors</h1><p>Each level-1 and level-2 heading can be linked to. We create a unique anchor ID by converting the heading text into a suitable format.</p>
<h2 id="creating-heading-anchors:module-interface">Module Interface</h2><p>Inputs:</p>
<ul>
<li>string</li>
</ul>
<p>Output: HeadingId</p>

<div class="source-ref">Source: <a href="./lib/get-heading-id.js#L1">/lib/get-heading-id.js, line 1</a></div></article>
</section>
<section data-filename="/lib/process-file.js">
<article data-line="1">
<h1 id="process-a-file">Process a file</h1><p>To process source files we extract comments and parse as markdown.</p>
<p>To process markdown files we treat them as one big comment, so that the data format is consistent.</p>

<div class="source-ref">Source: <a href="./lib/process-file.js#L1">/lib/process-file.js, line 1</a></div></article>
<article data-line="18">
<h2 id="process-a-file:determine-whether-a-token-is-a-level-2-heading">Determine whether a token is a Level-2 heading</h2><p>Inputs:</p>
<ul>
<li>MarkdownToken</li>
</ul>
<p>Output: boolean</p>

<div class="source-ref">Source: <a href="./lib/process-file.js#L18">/lib/process-file.js, line 18</a></div></article>
<article data-line="33">
<h2 id="process-a-file:find-all-level-2-headings">Find all Level-2 headings</h2><p>Inputs:</p>
<ul>
<li>MarkdownToken[]</li>
</ul>
<p>Output: string[]</p>

<div class="source-ref">Source: <a href="./lib/process-file.js#L33">/lib/process-file.js, line 33</a></div></article>
<article data-line="52">
<h2 id="process-a-file:find-document-links-in-comments">Find document links in comments</h2><p>Find doc links with <a class="doc-link" href="#extract-document-links">Extract Document Links</a>.</p>
<p>Inputs:</p>
<ul>
<li>MarkdownToken[]</li>
</ul>
<p>Output: string[]</p>

<div class="source-ref">Source: <a href="./lib/process-file.js#L52">/lib/process-file.js, line 52</a></div></article>
<article data-line="114">
<h2 id="process-a-file:module-interface">Module interface</h2><p>Inputs:</p>
<ul>
<li>filename: string</li>
<li>callback: function (error | null, FileInfo)</li>
</ul>

<div class="source-ref">Source: <a href="./lib/process-file.js#L114">/lib/process-file.js, line 114</a></div></article>
</section>
<section data-filename="/lib/render-doc-info.js">
<article data-line="1">
<h1 id="rendering-the-document">Rendering the document</h1><p>After extracting comments we need to put it all together. The end result will be:</p>
<ul>
<li>a single HTML element containing all content rendered from markdown.</li>
<li>each level-1 heading is rendered as a section.</li>
<li>each comment is rendered with an extra element that gives a reference back to the source file it came from.</li>
<li>before converting markdown to html we also replace special &quot;Doc Links&quot; with the markdown equivalent.</li>
</ul>

<div class="source-ref">Source: <a href="./lib/render-doc-info.js#L1">/lib/render-doc-info.js, line 1</a></div></article>
<article data-line="33">
<h2 id="rendering-the-document:rendering-a-document-link">Rendering a document link</h2><p>This is used as the <code>replaceFunc</code> arg in <a class="doc-link" href="#extract-document-links:replace-links">Extract Document Links&rarr;Replace Links</a>.</p>
<p>Inputs:</p>
<ul>
<li>link parts: eg. <code>[Section, Subsection]</code></li>
</ul>
<p>Output: HtmlString</p>

<div class="source-ref">Source: <a href="./lib/render-doc-info.js#L33">/lib/render-doc-info.js, line 33</a></div></article>
<article data-line="55">
<h2 id="rendering-the-document:replacing-document-link-placeholders-with-hyperlinks">Replacing document link placeholders with hyperlinks</h2><p>See also: <a class="doc-link" href="#extract-document-links:replace-links">Extract Document Links&rarr;Replace Links</a>.</p>
<p>Inputs:</p>
<ul>
<li>HtmlString</li>
</ul>
<p>Output: HtmlString</p>

<div class="source-ref">Source: <a href="./lib/render-doc-info.js#L55">/lib/render-doc-info.js, line 55</a></div></article>
<article data-line="95">
<blockquote>
<p>assume the rendered documentation is in the root directory of the repo</p>
</blockquote>

<div class="source-ref">Source: <a href="./lib/render-doc-info.js#L95">/lib/render-doc-info.js, line 95</a></div></article>
<article data-line="109">
<blockquote>
<p>display a reference to the source code this comment comes from.</p>
</blockquote>

<div class="source-ref">Source: <a href="./lib/render-doc-info.js#L109">/lib/render-doc-info.js, line 109</a></div></article>
</section>
<section data-filename="/template/tpl.html">
<article data-line="4">
<h1 id="html-template">Html Template</h1><p>This template is used when rendering docs to html, to wrap the markdown inside an html document.</p>

<div class="source-ref">Source: <a href="./template/tpl.html#L4">/template/tpl.html, line 4</a></div></article>
<article data-line="15">
<h2 id="html-template:default-styles">Default styles</h2><p>All of the default styles are embedded in the template, to avoid extra http requests and make
distribution easier.</p>

<div class="source-ref">Source: <a href="./template/tpl.html#L15">/template/tpl.html, line 15</a></div></article>
</section>
<section data-filename="/tests/extract-c-comments.js">
<article data-line="1">
<h1 id="test-extracting-c-style-comments">Test Extracting C-Style Comments</h1><p>Test cases for <a class="doc-link" href="#extract-c-style-comments">Extract C-Style Comments</a>.</p>
<p>This will be run as part of <code>npm test</code>.</p>

<div class="source-ref">Source: <a href="./tests/extract-c-comments.js#L1">/tests/extract-c-comments.js, line 1</a></div></article>
</section>
<section data-filename="/tests/extract-links.js">
<article data-line="1">
<h1 id="test-extracting-links">Test Extracting Links</h1><p>Test cases for <a class="doc-link" href="#extract-document-links">Extract Document Links</a>.</p>
<p>This will be run as part of <code>npm test</code>.</p>

<div class="source-ref">Source: <a href="./tests/extract-links.js#L1">/tests/extract-links.js, line 1</a></div></article>
</section>


        <script>
          var ToC = document.createElement('div');
          var headers = document.getElementsByTagName('h1');

          tocHtml = "<nav role='navigation' class='table-of-contents'><strong>Table of Contents:</strong><ul>";
          for (var i = 0; i < headers.length; i++) {
            tocHtml += "<li><a href='#" + headers[i].id + "'>" + headers[i].innerHTML + "</a></li>";
          }
          tocHtml += "</ul></nav>";

          ToC.id = 'table-of-contents';
          ToC.innerHTML = tocHtml;

          document.body.insertBefore(ToC, document.body.childNodes[0]);
        </script>
    </body>
</html>
