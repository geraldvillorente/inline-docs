<!DOCTYPE html>
<html>
  <!--
  /*

  Html template
  ====

  This template is used when rendering docs to html, to wrap the markdown inside an html document.

  */
  -->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <style type="text/css">
     /*

        Default styles
        ----

        All of the default styles are embedded in the template, to avoid extra http requests and make
        distribution easier.

      */
     body {
       font-family: Arial;
        line-height: 1.5;
     }

     h1,h2,h3,h4,h5,h6 {
       font-family: Serif;
     }

     h1 {
       font-size: 30px;
     }

     h2 {
       font-size: 20px;
       margin-top: 40px;
     }

     h3 {
       font-size: 16px;
     }

     section {
       width: 800px;
       max-width: 100%;
       margin: 0 auto;
       border-bottom: 5px solid #000;
       padding-bottom: 50px;
     }

     blockquote {
       font-style: italic;
       border-left: 10px solid #EEE;
       padding: 10px 0 10px 40px;
       margin: 0;
     }

      pre {
          /*> code blocks longer than section max width will scroll */
          overflow-x: auto;
          padding: 1em;
          background: #eee;
          border-radius: 5px;
      }

      code {
          line-height: 1.7;
          background: #eee;
          padding: 0.2em;
          border-radius: 3px;
      }

     .source-ref {
       padding: 0 0 10px 0;
       font-size: 12px;
       font-style: italic;
       color: #999;
     }

     .source-ref a {
       color: #999;
       text-decoration: none;
     }

     .source-ref a:hover {
       text-decoration: underline;
     }

     #table-of-contents {
       float: right;
       width: 40%;
       min-width: 220px;
       background: #efefef;
       font-size: 0.8em;
       padding: 1em 2em 1em 3em;
       margin: 0 0 0.5em 0.5em;
     }

     #table-of-contents ul {
       padding: 0;
     }

     #table-of-contents ul ul {
       padding: 0 0 0 1em;
     }

     #table-of-contents li {
       margin: 0 0 0.25em 0;
     }

     #table-of-contents a {
       text-decoration: none;
     }

     #table-of-contents a:hover,
     #table-of-contents a:active {
       text-decoration: underline;
     }

     h1:target {
       animation: highlight 1s ease;
     }

     @keyframes highlight {
       from { background: yellow; }
       to { background: white; }
     }

     @media (max-width: 1000px) {
       body {
         padding: 0 1em;
         font-size: 1.2em;
       }

       #table-of-contents {
         width: auto;
         float: none;
         font-size: 1em;
         margin-left: 0;
       }

       #table-of-contents li {
         margin: 0.6em 0;
       }
     }
    </style>
  </head>
  <body>
    {{ content }}

    <script>
     ///> Getting elements in JavaScript will return objects. This function is meant to convert objects into arrays.
     function toArray(obj) {
         var array = new Array(obj.length);
         for (var i = 0; i < obj.length; i++)
             array[i] = obj[i];
         return array;
     }


     /**
     Table of Contents
     -----

     to do: document this crazy stuff

     */
     var ToC = document.createElement('div');
     var sections = document.getElementsByTagName('section');
     sections = toArray(sections);

     tocHtml = "<nav role='navigation' class='table-of-contents'><strong>Table of Contents</strong><ul>";

     tocHtml += sections.map(function(section) {
         var headerOne = section.getElementsByTagName('h1');
         headerOne = toArray(headerOne);

         var sectionHtml = "<li><a href='#" + headerOne[0].id + "'>" + headerOne[0].innerHTML + "</a>";

         if (typeof headerOne[0].id !== "undefined" && headerOne[0].id !== "") {
             var anchor = document.createElement("a");
             anchor.href = "#" + headerOne[0].id;
             anchor.innerHTML = headerOne[0].innerHTML;
             headerOne[0].innerHTML = "";
             headerOne[0].appendChild(anchor);
         }

         var headersTwo = section.getElementsByTagName('h2');
         headersTwo = toArray(headersTwo);

         if (headersTwo.length > 0) {
             sectionHtml += "<ul>";
             sectionHtml += headersTwo.map(function(h2) {

             if (typeof h2.id !== "undefined" && h2.id !== "") {
                 var anchor = document.createElement("a");
                 anchor.href = "#" + h2.id;
                 anchor.innerHTML = h2.innerHTML;
                 h2.innerHTML = "";
                 h2.appendChild(anchor);
             }

                 return "<li><a href='#" + h2.id + "'>" + h2.innerHTML + "</a>";;
             }).join('\n');
             sectionHtml += "</ul>";
         }

         sectionHtml += "</li>";
         return sectionHtml;
     }).join('\n');

     ToC.id = 'table-of-contents';
     ToC.innerHTML = tocHtml;

     var firstHeading = document.querySelectorAll('h1')[0];
     firstHeading.parentNode.insertBefore(ToC, firstHeading.nextSibling);
    </script>
  </body>
</html>
